<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
    <%@ page import = "com.dao.MemberDao,com.domain.Member" %>

<%

    String memId = (String)session.getAttribute("memId"); 
    MemberDao manager = MemberDao.getInstance();
    Member c = manager.getMember(memId);
    
    String pass = c.getPasswd();
    String name = c.getName();
    String jumin = c.getJumin1() +"-" +  c.getJumin2();
    String email = c.getEmail();
    String blog = c.getBlog();
    
    String  ydate = request.getParameter("ydate");
    String ytime = request.getParameter("ytime");
    String doctor = request.getParameter("doctor");
    
    if(c.getEmail()==null){
    	c.setEmail("");	
    }
    if(c.getBlog()==null){
    	c.setBlog("");
    }
    
%>

<!DOCTYPE html>
<html>
  <head>
  <script type="text/javaScript">
    
    function checkIt() {
        var userinput = document.userinput;
        if(!userinput.id.value) {
            alert("ID를 입력하세요");
            userinput.id.focus();
            return false;
        }
        if(!userinput.passwd.value ) {
            alert("비밀번호를 입력하세요");
            userinput.passwd.focus();
            return false;
        }
        if(!userinput.name.value) {
            alert("사용자 이름을 입력하세요");
            userinput.name.focus();
            return false;
        }
        if(!userinput.jumin1.value)
        {
            alert("주민등록번호를 입력하세요");
            userinput.jumin1.focus();
            return false;
        }
        if(!userinput.jumin2.value)
        {
            alert("주민등록번호를 입력하세요");
            userinput.jumin2.focus();
            return false;
        }
        return true;
    }

</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>예약하기</title>

<!-- 합쳐지고 최소화된 최신 CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

<!-- 부가적인 테마 -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">

<!-- 합쳐지고 최소화된 최신 자바스크립트 -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

    <!-- Custom styles for this template -->
    <link href="signin.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="../../assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
   
   <article class="container">      
        <div class="col-md-12">
        <div class="page-header">
    	    <h1>예약하기</h1>
        </div>
        
        <form class="form-horizontal" method="post" action="inputPro.jsp" 
      name="userinput" onSubmit="return checkIt()">
      
         <div class="form-group">
            <label class="col-sm-3 control-label" for="inputName">담당의사</label>
          <div class="col-sm-6">
            <input class="form-control" id="inputName" name="id" type="text" readonly="readonly" value = 의사<%=doctor %>>
                
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label" for="inputPassword">예약일자</label>
        	<div class="col-sm-6">
          <input class="form-control" id="inputPassword" name="passwd" type="text" readonly="readonly" value ="<%=ydate %> <%=ytime %>" >     
        	</div>
        </div>
        
         <div class="form-group">
            <label class="col-sm-3 control-label" for="inputName">환자ID</label>
          <div class="col-sm-6">
            <input class="form-control" id="inputName" name="name"  type="text"  readonly="readonly" value = <%=memId %>>
          </div>
        </div>

         <div class="form-group">
            <label class="col-sm-3 control-label" for="inputNumber">주민등록번호</label>
              <div class="col-sm-6">
                <div class="input-group">
                  <input type="number" class="form-control" id="inputNumber" name="jumin1" size="7" readonly="readonly" value = <%=jumin %> />             
                </div>
             </div>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label" for="inputEmail">환자 이메일주소</label>
        <div class="col-sm-6">
          <input class="form-control" name="email" id="inputEmail" type="email" readonly="readonly" value = <%=email %>>
        </div>
        </div>
        

        <div class="form-group">
          <div class="col-sm-12 text-center">
            <button class="btn btn-primary" type="submit">회원가입<i class="fa fa-check spaceLeft"></i></button>
            <button class="btn btn-primary" type="reset">다시입력<i class="fa fa-check spaceLeft"></i></button>
            <a class="btn btn-danger" href="main.jsp" role="button">가입취소<i class="fa fa-times spaceLeft"></i></a>
          </div>
        </div>
        
        </form>
        
          <hr>
        </div>
      </article>



    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>